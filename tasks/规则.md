和 C 语言相比，SysY 的文法有几个明显的区别和简化点：

---

### 1. **支持的类型受限**

* SysY 只支持 **32 位整数类型 `int`**，没有 `char`、`float`、`double` 等类型。
* 只支持 **一维数组**，没有多维数组（除非通过数组内含数组的方式模拟）。
* 常量必须使用 `const` 修饰，必须有初始值。
* 支持static。
* 而且**数组长度必须在编译时可确定**。
* 对函数参数，数组类型传的是 **数组首地址**，普通变量按值传递。
* 不支持指针、结构体、联合体等复杂类型。

---

### 2. **主函数要求**

* 没有#include、using namespace 等预处理指令。  
* SysY 只允许一个 `main` 函数，必须返回 `int`。
* 不允许全局函数没有声明在 `main` 前出现（文法要求 `{Decl} {FuncDef} MainFuncDef`）。
* `main` 函数返回值只能为常数 0。


---

### 3. **函数定义和调用简化**

* 函数类型只有 `int` 或 `void`。
* 函数形参表仅支持普通变量或一维数组：`BType Ident ['[' ']']`或者无参数。
* 函数调用中，数组作为实参必须和形参类型匹配，不能传常量数组。
* 不允许指针或结构体作为参数。
* 没有变长参数（可变参数）机制。
* void空返回函数也需要空值return;

---

### 4. **语句结构简化**

* 只支持 `if`、`for`、`break`、`continue`、`return`、赋值语句、表达式语句、`printf` 调用。
* `for` 语句允许 **缺省初始化、条件、更新**，但不支持 `while` 的复杂表达式控制。循环变量必须在循环前定义。
* `if` 语句允许有或无 `else`。
* 没有 `switch-case`、`do-while`、`goto`。
* `printf` 是语言内置语句，而不是标准库函数，格式化受限，只支持 `StringConst` 和表达式或者调用函数值。

**对比 C**：C 的语句类型更丰富，包括 `switch`、`do-while`、复合表达式的 `for`、`goto` 等，I/O 是库函数。

---

### 5. **表达式与运算符**

* 支持基本算术运算符：`+ - * / %`
* 支持关系运算：`< <= > >= == !=`
* 支持逻辑运算：`! && ||`，但 `!` 只允许出现在条件表达式中。
* 没有位运算、三元运算符 `?:`。
* 没有自增/自减运算符 `++`、`--`。
* 一元运算符的组合限制：相邻两个不能相同（例如 `++-i` 不允许），`+-+-`允许。


**对比 C**：C 支持更多运算符、位运算、三元运算符、自增自减。

---

### 6. **语法简化和约束**

* SysY 用 **EBNF 表示**，明确了可选项 `[ ]` 和重复 `{ }`。
* 所有变量必须先定义再使用。
* 常量必须初始化。
* 作用域规则简化：局部变量覆盖外部变量，但同一级作用域不能重名。
* 数组访问必须匹配维度（只支持一维）。

**对比 C**：C 允许更复杂的作用域、指针、结构体嵌套等，语法更宽松。

---

### 7. **缺省和特殊处理**

* `for` 语句和 `if` 语句有缺省处理：`for` 可以省略初始化/条件/更新；`if` 可以省略 `else`。
* `printf` 是语言内置语句，且格式化只支持字符串常量与表达式。
* `getint()` 是内置输入语句。

### 8. **其他**
* 需要有空的语句块，例如 `{}`。

**对比 C**：C 的 `for` 和 `if` 没有内置缺省机制，`printf` 和 `scanf` 是标准库函数。

          
根据对testfile1-6的分析，以下是SysY文法中可能出现的所有文法情况总结：

## 1. 常量定义与初始化
- 单个常量定义：`const int n = 5;`
- 多个常量定义：`const int C = 4, D = 5;`
- 常量数组定义与初始化：`const int arr[10] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};`

## 2. 变量定义与初始化
- 全局变量：`int m = 7;`
- 局部变量：`int a = 1;`, `int b = 2, c = 3;`
- 静态变量：`static int a = 0;`, `static int a = 0, b = 0;`, `static int f = 0;`
- 变量的声明与赋值分离：`int a; a = 10;`

## 3. 数组定义与初始化
- 数组定义与初始化：`int a[4] = {1, 2, 3, 4};`, `int a[5] = {10, 20, 30, 40, 50};`
- 空数组定义：`int b[3];`, `int y[5];`
- 数组元素访问：`a[3]`, `b[i]`

## 4. 函数定义与调用
- 函数定义：
  - 无参函数：`int func1() { ... }`
  - 有参函数：`int func1(int a, int b) { ... }`, `int h(int p) { ... }`
  - 带数组参数的函数：`int sumArray(int arr[], int size) { ... }`, `int getFirst(int arr[]) { ... }`
  - void函数：`void copy(int a[], int b[], int n) { ... }`
- 函数调用：`func1(a[2], a[1])`, `sumArray(a, 5)`, `h(a)`
- 函数返回：`return a + b;`, `return -1;`, `return;`

## 5. 表达式类型
- 算术表达式：
  - 二元运算：`a + b`, `a - c`, `a * b`, `a / c`, `a % c`
  - 一元运算：`+a`, `-b`, `!a`
  - 复合运算：`a[2] + a[1] * a[3]`, `(a + b) * (c - d)`, `1 * a + func1()`
- 关系表达式：
  - 大于/小于：`func1(a[2], a[1]) > a[3]`, `a[3] > 3`
  - 等于/不等于：`func1(a[2], a[1]) == 5`, `1 != func1(a[2], a[1])`
  - 大于等于/小于等于：`a <= b`, `a >= b`
- 逻辑表达式：
  - 逻辑与/或：`0 && func1(a[2], a[1])`, `1 || func1(a[2], a[1])`
- 括号表达式：`(a + b) * (c - d)`

## 6. 控制语句
- if语句：
  - 基本if：`if (i == 10) { ... }`
  - if-else：`if (a == 10) { ... } else { ... }`
  - 空语句体：`if (0 && func1(a[2], a[1])) { ; }`
- for循环：
  - 完整for循环：`for (i = 0; i < size; i = i + 1) { ... }`
  - 省略初始化：`for (; i < 7; ) { ... }`, `for (; i < 10; i = i + 1) { ... }`
  - 省略条件：`for (i = 1; ; i = i + 1) { ... }`, `for (i = 0; ; ) { ... }`
  - 省略更新：`for (i = 0; i < 10; ) { ... }`
  - 全省略：`for (;;) { ... }`, `for (;; i = i + 1) { ... }`
  - 多个初始化表达式：`for (i = 0, j = 5; i < 10; i = i + 1) { ... }`
- break语句：`break;`
- continue语句：`continue;`

## 7. 复合语句（代码块）
- 基本代码块：`{ int i = 10; printf("%d\n", i); }`
- 空代码块：`{}`, `{ }`
- 嵌套代码块：代码块内可以包含其他语句和代码块

## 8. 其他
- 赋值语句：`a = 10;`, `b[i] = i + 1;`, `sum = sum + arr[i];`
- 输入输出：`printf("22379107\n");`, `printf("%d\n", a[3]);`
- 作用域：局部变量覆盖全局变量（如代码块内的局部变量i覆盖外部的i）

这个总结涵盖了SysY文法在testfile1-6中出现的所有语法结构和使用情况。
        